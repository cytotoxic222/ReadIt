function checkScroll(){nearBottomOfPage()?(currentPage++,new Ajax.Request("/books.js?page="+currentPage,{asynchronous:!0,evalScripts:!0,method:"get"})):setTimeout("checkScroll()",250)}function nearBottomOfPage(){return 150>scrollDistanceFromBottom()}function scrollDistanceFromBottom(){return pageHeight()-(window.pageYOffset+self.innerHeight)}function pageHeight(){return Math.max(document.body.scrollHeight,document.body.offsetHeight)}var currentPage=1;